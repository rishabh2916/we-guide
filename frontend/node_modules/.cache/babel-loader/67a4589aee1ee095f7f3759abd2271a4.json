{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/risha/OneDrive/Desktop/weGuide/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/risha/OneDrive/Desktop/weGuide/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/risha/OneDrive/Desktop/weGuide/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from'react';// export default function Login({ setAuthState }) {\n//     const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   async function handleLogin(e) {\n//     e.preventDefault();\n//     if (!email || !password) return alert(\"Field is empty\");\n//     try {\n//       const res = await fetch(\"http://localhost:4000/api/v1/login\", {\n//         method: \"POST\",\n//         body: JSON.stringify({ email, password }),\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         credentials: \"include\",\n//       });\n//       const data = await res.json();\n//       console.log(data);\n//       if (data.status === \"success\") {\n//         alert(\"Login Successfully\");\n//         // window.setTimeout(() => {\n//         //   location.assign(\"/me\");\n//         // }, 1500);\n//       }\n//     } catch (error) {\n//       console.log(error);\n//       alert(error.message);\n//     }\n//     }\n//     return (\n//         <div className=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\n//             <div className=\"bg-white px-6 py-8 rounded shadow-lg text-black w-full\">\n//                 <form onLogin={handleLogin}>\n//                     <h1 className=\"mb-8 text-4xl font-semibold text-center\">Log in</h1>\n//                     <div className='flex flex-col space-y-4 my-16'>\n//                         <input\n//                         onChange={(e) => setEmail(e.target.value)}\n//                             type=\"text\"\n//                             className=\"block border border-grey-light w-full p-3 rounded mb-4\"\n//                             // name=\"email\"\n//                             placeholder=\"Email\" />\n//                         <input\n//                         onChange={(e) => setPassword(e.target.value)}\n//                             type=\"password\"\n//                             className=\"block border border-grey-light w-full p-3 rounded mb-4\"\n//                             // name=\"password\"\n//                             placeholder=\"Password\" />\n//                         <a\n//                             href=\"weguide\"\n//                             type=\"submit\"\n//                             className=\" relative top-6 w-full text-center py-3 rounded bg-blue-900 text-white hover:bg-blue-600 focus:outline-none my-6\">Login\n//                         </a>\n//                     </div>\n//                 </form>\n//                 <div className=\"text-center text-sm text-grey-dark mt-4\">\n//                     By signing up, you agree to the Terms of Service and Privacy Policy\n//                 </div>\n//             </div>\n//             <div className=\"text-gray-300 mt-6\">\n//                 Don't have an account?\n//                 <button\n//                     className=\"no-underline border-b border-blue text-blue font-semibold cursor-pointer\"\n//                     onClick={() => setAuthState('signup')}>Sign up</button>.\n//             </div>\n//         </div>\n//     )\n// }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var setAuthState=_ref.setAuthState;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];function handleLogin(_x){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!email||!password)){_context.next=4;break;}setErrorMessage(\"Please fill in all fields\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return fetch(\"http://localhost:4000/api/v1/login\",{method:\"POST\",body:JSON.stringify({email:email,password:password}),headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 7:res=_context.sent;_context.next=10;return res.json();case 10:data=_context.sent;console.log(data);if(data.status===\"success\"){alert(\"Login Successfully\");window.location.replace(\"/Weguide\");// Redirect to another page\n// window.setTimeout(() => {\n//   location.assign(\"/me\");\n// }, 1500);\n}_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](4);console.log(_context.t0);setErrorMessage(_context.t0.message);case 19:case\"end\":return _context.stop();}}},_callee,null,[[4,15]]);}));return _handleLogin.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-6 py-8 rounded shadow-lg text-black w-full\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-8 text-4xl font-semibold text-center\",children:\"Log in\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mb-4\",children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4 my-16\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setEmail(e.target.value);},type:\"text\",className:\"block border border-grey-light w-full p-3 rounded mb-4\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",className:\"block border border-grey-light w-full p-3 rounded mb-4\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full text-center py-3 rounded bg-blue-900 text-white hover:bg-blue-600 focus:outline-none my-6\",children:\"Login\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm text-grey-dark mt-4\",children:\"By signing up, you agree to the Terms of Service and Privacy Policy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-300 mt-6\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"button\",{className:\"no-underline border-b border-blue text-blue font-semibold cursor-pointer\",onClick:function onClick(){return setAuthState('signup');},children:\"Sign up\"}),\".\"]})]});}","map":{"version":3,"names":["React","useState","Login","setAuthState","email","setEmail","password","setPassword","errorMessage","setErrorMessage","handleLogin","e","preventDefault","fetch","method","body","JSON","stringify","headers","credentials","res","json","data","console","log","status","alert","window","location","replace","message","target","value"],"sources":["C:/Users/risha/OneDrive/Desktop/weGuide/frontend/src/components/auth/Login.js"],"sourcesContent":["import {React,useState} from 'react'\r\n\r\n// export default function Login({ setAuthState }) {\r\n\r\n//     const [email, setEmail] = useState(\"\");\r\n//   const [password, setPassword] = useState(\"\");\r\n\r\n//   async function handleLogin(e) {\r\n//     e.preventDefault();\r\n\r\n//     if (!email || !password) return alert(\"Field is empty\");\r\n\r\n//     try {\r\n//       const res = await fetch(\"http://localhost:4000/api/v1/login\", {\r\n//         method: \"POST\",\r\n//         body: JSON.stringify({ email, password }),\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//         },\r\n//         credentials: \"include\",\r\n//       });\r\n\r\n//       const data = await res.json();\r\n//       console.log(data);\r\n//       if (data.status === \"success\") {\r\n//         alert(\"Login Successfully\");\r\n\r\n//         // window.setTimeout(() => {\r\n//         //   location.assign(\"/me\");\r\n//         // }, 1500);\r\n//       }\r\n//     } catch (error) {\r\n//       console.log(error);\r\n//       alert(error.message);\r\n//     }\r\n//     }\r\n//     return (\r\n//         <div className=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\r\n//             <div className=\"bg-white px-6 py-8 rounded shadow-lg text-black w-full\">\r\n//                 <form onLogin={handleLogin}>\r\n//                     <h1 className=\"mb-8 text-4xl font-semibold text-center\">Log in</h1>\r\n\r\n//                     <div className='flex flex-col space-y-4 my-16'>\r\n//                         <input\r\n//                         onChange={(e) => setEmail(e.target.value)}\r\n//                             type=\"text\"\r\n//                             className=\"block border border-grey-light w-full p-3 rounded mb-4\"\r\n//                             // name=\"email\"\r\n//                             placeholder=\"Email\" />\r\n\r\n//                         <input\r\n//                         onChange={(e) => setPassword(e.target.value)}\r\n//                             type=\"password\"\r\n//                             className=\"block border border-grey-light w-full p-3 rounded mb-4\"\r\n//                             // name=\"password\"\r\n//                             placeholder=\"Password\" />\r\n//                         <a\r\n//                             href=\"weguide\"\r\n//                             type=\"submit\"\r\n//                             className=\" relative top-6 w-full text-center py-3 rounded bg-blue-900 text-white hover:bg-blue-600 focus:outline-none my-6\">Login\r\n//                         </a>\r\n//                     </div>\r\n\r\n\r\n//                 </form>\r\n\r\n//                 <div className=\"text-center text-sm text-grey-dark mt-4\">\r\n//                     By signing up, you agree to the Terms of Service and Privacy Policy\r\n//                 </div>\r\n//             </div>\r\n\r\n//             <div className=\"text-gray-300 mt-6\">\r\n//                 Don't have an account?\r\n//                 <button\r\n//                     className=\"no-underline border-b border-blue text-blue font-semibold cursor-pointer\"\r\n//                     onClick={() => setAuthState('signup')}>Sign up</button>.\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n\r\n\r\nexport default function Login({ setAuthState }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  async function handleLogin(e) {\r\n    e.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      setErrorMessage(\"Please fill in all fields\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:4000/api/v1/login\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ email, password }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const data = await res.json();\r\n      console.log(data);\r\n      if (data.status === \"success\") {\r\n        alert(\"Login Successfully\");\r\n        window.location.replace(\"/Weguide\");\r\n        // Redirect to another page\r\n        // window.setTimeout(() => {\r\n        //   location.assign(\"/me\");\r\n        // }, 1500);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setErrorMessage(error.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\r\n      <div className=\"bg-white px-6 py-8 rounded shadow-lg text-black w-full\">\r\n        <form onSubmit={handleLogin}>\r\n          <h1 className=\"mb-8 text-4xl font-semibold text-center\">Log in</h1>\r\n\r\n          {errorMessage && <p className=\"text-red-500 mb-4\">{errorMessage}</p>}\r\n\r\n          <div className='flex flex-col space-y-4 my-16'>\r\n            <input\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              type=\"text\"\r\n              className=\"block border border-grey-light w-full p-3 rounded mb-4\"\r\n              placeholder=\"Email\"\r\n            />\r\n\r\n            <input\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              type=\"password\"\r\n              className=\"block border border-grey-light w-full p-3 rounded mb-4\"\r\n              placeholder=\"Password\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full text-center py-3 rounded bg-blue-900 text-white hover:bg-blue-600 focus:outline-none my-6\">\r\n              Login\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"text-center text-sm text-grey-dark mt-4\">\r\n          By signing up, you agree to the Terms of Service and Privacy Policy\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-gray-300 mt-6\">\r\n        Don't have an account?\r\n        <button\r\n          className=\"no-underline border-b border-blue text-blue font-semibold cursor-pointer\"\r\n          onClick={() => setAuthState('signup')}>\r\n          Sign up\r\n        </button>.\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}